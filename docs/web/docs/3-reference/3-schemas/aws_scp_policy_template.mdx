# AwsScpPolicyTemplate

See [Template Schema Validation](/reference/template_validation_ide) to learn how to validate templates automatically in your IDE.

## Description

A base model class that provides additional helper methods and
configurations for other models used in IAMbic.

## Properties

- **`included_accounts`** *(array)*: A list of account ids and/or account names this statement applies to. Account ids/names can be represented as a regex and string. Default: `["*"]`.
  - **Items** *(string)*
- **`excluded_accounts`** *(array)*: A list of account ids and/or account names this statement explicitly does not apply to. Account ids/names can be represented as a regex and string. Default: `[]`.
  - **Items** *(string)*
- **`included_orgs`** *(array)*: A list of AWS organization ids this statement applies to. Org ids can be represented as a regex and string. Default: `["*"]`.
  - **Items** *(string)*
- **`excluded_orgs`** *(array)*: A list of AWS organization ids this statement explicitly does not apply to. Org ids can be represented as a regex and string. Default: `[]`.
  - **Items** *(string)*
- **`expires_at`**: The date and time the resource will be/was set to deleted.
  - **Any of**
    - *string*
    - *string* (date-time)
    - *string* (date)

  Examples:
  ```yaml
  in 3 days
  ...
  ```

  ```yaml
  '2023-09-01'
  ```

  ```yaml
  '2023-08-31T12:00:00'
  ```

- **`deleted`** *(boolean)*: Denotes whether the resource has been removed from AWS.Upon being set to true, the resource will be deleted the next time iambic is ran. Default: `false`.
- **`expires_at_default`**: A value that is set by IAMbic at run time and should not be set by the user.
  - **Any of**
    - *string*
    - *string* (date-time)
    - *string* (date)

  Examples:
  ```yaml
  in 3 days
  ...
  ```

  ```yaml
  '2023-09-01'
  ```

  ```yaml
  '2023-08-31T12:00:00'
  ```

- **`template_type`** *(string)*: Default: `"NOQ::AWS::Organizations::SCP"`.
- **`template_schema_url`** *(string)*: Default: `"https://docs.iambic.org/reference/schemas/aws_scp_policy_template"`.
- **`owner`** *(string)*
- **`notes`** *(string)*
- **`iambic_managed`**: Controls the directionality of Iambic changes. Default: `"undefined"`.
  - **All of**
    - : Refer to *[#/definitions/IambicManaged](#definitions/IambicManaged)*.
- **`identifier`** *(string)*
- **`organization_account_needed`** *(boolean)*: This template needs an organization account to be applied. Default: `true`.
- **`properties`**: The properties of the scp policy.
  - **All of**
    - : Refer to *[#/definitions/PolicyProperties](#definitions/PolicyProperties)*.
- **`account_id`** *(string)*
- **`org_id`** *(string)*
- **`ARN_TEMPLATE`** *(string)*: Default: `"arn:aws:organizations::{account_id}:policy/{organization_unit}/service_control_policy/{policy_id}"`.
## Definitions


<a id="definitions/IambicManaged"></a>

- **`IambicManaged`**: An enumeration. Must be one of: `["undefined", "read_and_write", "import_only", "enforced", "disabled"]`.

<a id="definitions/Path"></a>

- **`Path`** *(object)*: A base model class that provides additional helper methods and
configurations for other models used in IAMbic.
  - **`included_accounts`** *(array)*: A list of account ids and/or account names this statement applies to. Account ids/names can be represented as a regex and string. Default: `["*"]`.
    - **Items** *(string)*
  - **`excluded_accounts`** *(array)*: A list of account ids and/or account names this statement explicitly does not apply to. Account ids/names can be represented as a regex and string. Default: `[]`.
    - **Items** *(string)*
  - **`included_orgs`** *(array)*: A list of AWS organization ids this statement applies to. Org ids can be represented as a regex and string. Default: `["*"]`.
    - **Items** *(string)*
  - **`excluded_orgs`** *(array)*: A list of AWS organization ids this statement explicitly does not apply to. Org ids can be represented as a regex and string. Default: `[]`.
    - **Items** *(string)*

<a id="definitions/Description"></a>

- **`Description`** *(object)*: A base model class that provides additional helper methods and
configurations for other models used in IAMbic.
  - **`included_accounts`** *(array)*: A list of account ids and/or account names this statement applies to. Account ids/names can be represented as a regex and string. Default: `["*"]`.
    - **Items** *(string)*
  - **`excluded_accounts`** *(array)*: A list of account ids and/or account names this statement explicitly does not apply to. Account ids/names can be represented as a regex and string. Default: `[]`.
    - **Items** *(string)*
  - **`included_orgs`** *(array)*: A list of AWS organization ids this statement applies to. Org ids can be represented as a regex and string. Default: `["*"]`.
    - **Items** *(string)*
  - **`excluded_orgs`** *(array)*: A list of AWS organization ids this statement explicitly does not apply to. Org ids can be represented as a regex and string. Default: `[]`.
    - **Items** *(string)*
  - **`description`** *(string)*: Default: `""`.

<a id="definitions/OrganizationsPolicyType"></a>

- **`OrganizationsPolicyType`** *(string)*: AWS Organizations supports the following policy types. You specify the policy type when you create a policy.<br \>  Possible values:
    - TAG_POLICY
    - BACKUP_POLICY
    - AISERVICES_OPT_OUT_POLICY<br \>  Ref:
    - https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/organizations/client/list_policies.html. Must be one of: `["SERVICE_CONTROL_POLICY", "TAG_POLICY", "BACKUP_POLICY", "AISERVICES_OPT_OUT_POLICY"]`.

<a id="definitions/Principal"></a>

- **`Principal`** *(object)*: A base model class that provides additional helper methods and
configurations for other models used in IAMbic.
  - **`aws`**
    - **Any of**
      - *string*
      - *array*
        - **Items** *(string)*
  - **`service`**
    - **Any of**
      - *string*
      - *array*
        - **Items** *(string)*
  - **`canonical_user`**
    - **Any of**
      - *string*
      - *array*
        - **Items** *(string)*
  - **`federated`**
    - **Any of**
      - *string*
      - *array*
        - **Items** *(string)*

<a id="definitions/PolicyStatement"></a>

- **`PolicyStatement`** *(object)*: A base model class that provides additional helper methods and
configurations for other models used in IAMbic.
  - **`expires_at`**: The date and time the resource will be/was set to deleted.
    - **Any of**
      - *string*
      - *string* (date-time)
      - *string* (date)

    Examples:
    ```yaml
    in 3 days
    ...
    ```

    ```yaml
    '2023-09-01'
    ```

    ```yaml
    '2023-08-31T12:00:00'
    ```

  - **`deleted`** *(boolean)*: Denotes whether the resource has been removed from AWS.Upon being set to true, the resource will be deleted the next time iambic is ran. Default: `false`.
  - **`expires_at_default`**: A value that is set by IAMbic at run time and should not be set by the user.
    - **Any of**
      - *string*
      - *string* (date-time)
      - *string* (date)

    Examples:
    ```yaml
    in 3 days
    ...
    ```

    ```yaml
    '2023-09-01'
    ```

    ```yaml
    '2023-08-31T12:00:00'
    ```

  - **`included_accounts`** *(array)*: A list of account ids and/or account names this statement applies to. Account ids/names can be represented as a regex and string. Default: `["*"]`.
    - **Items** *(string)*
  - **`excluded_accounts`** *(array)*: A list of account ids and/or account names this statement explicitly does not apply to. Account ids/names can be represented as a regex and string. Default: `[]`.
    - **Items** *(string)*
  - **`included_orgs`** *(array)*: A list of AWS organization ids this statement applies to. Org ids can be represented as a regex and string. Default: `["*"]`.
    - **Items** *(string)*
  - **`excluded_orgs`** *(array)*: A list of AWS organization ids this statement explicitly does not apply to. Org ids can be represented as a regex and string. Default: `[]`.
    - **Items** *(string)*
  - **`effect`** *(string, required)*: Allow | Deny.
  - **`principal`**
    - **Any of**
      - : Refer to *[#/definitions/Principal](#definitions/Principal)*.
      - *string*
  - **`not_principal`**
    - **Any of**
      - : Refer to *[#/definitions/Principal](#definitions/Principal)*.
      - *string*
  - **`action`**: A single regex or list of regexes. Values are the actions that can be performed on the resources in the policy statement.
    - **Any of**
      - *array*
        - **Items** *(string)*
      - *string*
  - **`not_action`**: An advanced policy element that explicitly matches everything except the specified list of actions.DON'T use this with effect: allow in the same statement OR policy.
    - **Any of**
      - *array*
        - **Items** *(string)*
      - *string*
  - **`resource`**: A single regex or list of regexes. Values specified are the resources the statement applies to.
    - **Any of**
      - *array*
        - **Items** *(string)*
      - *string*
  - **`not_resource`**: An advanced policy element that explicitly matches every resource except those specified.DON'T use this with effect: allow and action: '*'.
    - **Any of**
      - *array*
        - **Items** *(string)*
      - *string*
  - **`condition`** *(object)*: An optional set of conditions to determine of the policy applies to a resource.
  - **`sid`** *(string)*: The Policy Statement ID.

<a id="definitions/PolicyDocument"></a>

- **`PolicyDocument`** *(object)*: A base model class that provides additional helper methods and
configurations for other models used in IAMbic.
  - **`expires_at`**: The date and time the resource will be/was set to deleted.
    - **Any of**
      - *string*
      - *string* (date-time)
      - *string* (date)

    Examples:
    ```yaml
    in 3 days
    ...
    ```

    ```yaml
    '2023-09-01'
    ```

    ```yaml
    '2023-08-31T12:00:00'
    ```

  - **`deleted`** *(boolean)*: Denotes whether the resource has been removed from AWS.Upon being set to true, the resource will be deleted the next time iambic is ran. Default: `false`.
  - **`expires_at_default`**: A value that is set by IAMbic at run time and should not be set by the user.
    - **Any of**
      - *string*
      - *string* (date-time)
      - *string* (date)

    Examples:
    ```yaml
    in 3 days
    ...
    ```

    ```yaml
    '2023-09-01'
    ```

    ```yaml
    '2023-08-31T12:00:00'
    ```

  - **`included_accounts`** *(array)*: A list of account ids and/or account names this statement applies to. Account ids/names can be represented as a regex and string. Default: `["*"]`.
    - **Items** *(string)*
  - **`excluded_accounts`** *(array)*: A list of account ids and/or account names this statement explicitly does not apply to. Account ids/names can be represented as a regex and string. Default: `[]`.
    - **Items** *(string)*
  - **`included_orgs`** *(array)*: A list of AWS organization ids this statement applies to. Org ids can be represented as a regex and string. Default: `["*"]`.
    - **Items** *(string)*
  - **`excluded_orgs`** *(array)*: A list of AWS organization ids this statement explicitly does not apply to. Org ids can be represented as a regex and string. Default: `[]`.
    - **Items** *(string)*
  - **`version`** *(string)*: Default: `"2012-10-17"`.
  - **`statement`**: List of policy statements.
    - **Any of**
      - *array*
        - **Items**: Refer to *[#/definitions/PolicyStatement](#definitions/PolicyStatement)*.
      - : Refer to *[#/definitions/PolicyStatement](#definitions/PolicyStatement)*.

<a id="definitions/PolicyTargetProperties"></a>

- **`PolicyTargetProperties`** *(object)*: Note:
- Root - A string that begins with “r-” followed by from 4 to 32 lowercase letters or digits.
- Account - A string that consists of exactly 12 digits.
- Organizational unit (OU) - A string that begins with “ou-” followed by from 4 to 32 lowercase letters or digits (the ID of the root
that the OU is in). This string is followed by a second “-” dash and from 8 to 32 additional lowercase letters or digits.
  - **`organizational_units`** *(array)*: List of OUs ids. Default: `[]`.
    - **Items** *(string)*
  - **`accounts`** *(array)*: List of accounts (names or ids). Default: `[]`.
    - **Items** *(string)*
  - **`roots`** *(array)*: List of root ids. Default: `[]`.
    - **Items** *(string)*

<a id="definitions/Tag"></a>

- **`Tag`** *(object)*: A base model class that provides additional helper methods and
configurations for other models used in IAMbic.
  - **`included_accounts`** *(array)*: A list of account ids and/or account names this statement applies to. Account ids/names can be represented as a regex and string. Default: `["*"]`.
    - **Items** *(string)*
  - **`excluded_accounts`** *(array)*: A list of account ids and/or account names this statement explicitly does not apply to. Account ids/names can be represented as a regex and string. Default: `[]`.
    - **Items** *(string)*
  - **`included_orgs`** *(array)*: A list of AWS organization ids this statement applies to. Org ids can be represented as a regex and string. Default: `["*"]`.
    - **Items** *(string)*
  - **`excluded_orgs`** *(array)*: A list of AWS organization ids this statement explicitly does not apply to. Org ids can be represented as a regex and string. Default: `[]`.
    - **Items** *(string)*
  - **`expires_at`**: The date and time the resource will be/was set to deleted.
    - **Any of**
      - *string*
      - *string* (date-time)
      - *string* (date)

    Examples:
    ```yaml
    in 3 days
    ...
    ```

    ```yaml
    '2023-09-01'
    ```

    ```yaml
    '2023-08-31T12:00:00'
    ```

  - **`deleted`** *(boolean)*: Denotes whether the resource has been removed from AWS.Upon being set to true, the resource will be deleted the next time iambic is ran. Default: `false`.
  - **`expires_at_default`**: A value that is set by IAMbic at run time and should not be set by the user.
    - **Any of**
      - *string*
      - *string* (date-time)
      - *string* (date)

    Examples:
    ```yaml
    in 3 days
    ...
    ```

    ```yaml
    '2023-09-01'
    ```

    ```yaml
    '2023-08-31T12:00:00'
    ```

  - **`key`** *(string, required)*
  - **`value`** *(string, required)*

<a id="definitions/PolicyProperties"></a>

- **`PolicyProperties`** *(object)*: A base model class that provides additional helper methods and
configurations for other models used in IAMbic.
  - **`policy_id`** *(string)*: The ID of the policy, it is optional when creating a new policy.
  - **`policy_name`** *(string, required)*
  - **`path`**: Default: `"/"`.
    - **Any of**
      - *string*
      - *array*
        - **Items**: Refer to *[#/definitions/Path](#definitions/Path)*.
  - **`description`**: Description of the role. Default: `""`.
    - **Any of**
      - *string*
      - *array*
        - **Items**: Refer to *[#/definitions/Description](#definitions/Description)*.
  - **`type`**: Default: `"SERVICE_CONTROL_POLICY"`.
    - **All of**
      - : Refer to *[#/definitions/OrganizationsPolicyType](#definitions/OrganizationsPolicyType)*.
  - **`aws_managed`** *(boolean)*: Default: `false`.
  - **`policy_document`**: Policy document, Unsupported elements: Principal, NotPrincipal, NotResource.
    - **Any of**
      - : Refer to *[#/definitions/PolicyDocument](#definitions/PolicyDocument)*.
      - *array*
        - **Items**: Refer to *[#/definitions/PolicyDocument](#definitions/PolicyDocument)*.
  - **`targets`**: Refer to *[#/definitions/PolicyTargetProperties](#definitions/PolicyTargetProperties)*.
  - **`tags`** *(array)*: List of tags attached to the role. Default: `[]`.
    - **Items**: Refer to *[#/definitions/Tag](#definitions/Tag)*.
